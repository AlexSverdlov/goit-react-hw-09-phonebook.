{"version":3,"sources":["redux/auth/auth-selectors.js","conponents/Navigation.js","conponents/Authnav.js","conponents/UserMenu.js","conponents/AppBar.js","conponents/Container/Container.js","conponents/PrivateRoute.js","conponents/PublicRoute.js","App.js","redux/contacts/contacts-reducer.js","redux/auth/auth-reduser.js","redux/store.js","index.js","redux/contacts/contacts-actions.js","redux/auth/auth-operations.js","redux/auth/auth-action.js"],"names":["state","auth","isAutheticated","user","email","styles","link","textDecoration","color","padding","activelink","connect","isAuthentificated","authSelectors","Nav","defaultActiveKey","as","Item","exact","to","className","activeClassName","style","activeStyle","AuthNav","span","mapDispatchToProps","onLogout","authOperations","logout","Button","variant","type","size","onClick","isAutentificated","Navbar","bg","Container","children","Component","component","routeProps","render","props","restricted","Homeview","lazy","LoginView","RegisterView","ContactsView","App","this","onGetCurrentUser","fallback","path","React","getCurrentUser","itemsReduсer","createReducer","fetchContactSuccess","action","payload","addContactSuccess","delContactSuccess","filter","item","id","filterReduсer","filterContact","_","contactsReduсer","combineReducers","items","initialUserState","name","authActions","registerSuccess","loginSuccess","logoutSuccess","getCurrentUserSuccess","token","error","registerError","loginError","logoutError","getCurrentUserError","authReduser","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","store","next","authPersistConfih","key","storage","whitelist","configureStore","reducer","persistReducer","authReduсer","contacts","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById","fetchContactRequest","createAction","fetchContactError","addContactRequest","addContactError","delContactRequest","delContactError","axios","defaults","baseURL","headers","common","Authorization","register","credential","dispatch","registerRequest","post","then","data","catch","message","login","loginRequest","logoutRequest","getState","persistedToken","getCurrentUserRequest","get"],"mappings":"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","file":"static/js/main.827e25bc.chunk.js","sourcesContent":["const getIsAutentificated = state => state.auth.isAutheticated;\r\n\r\nconst getUserMail = state => state.auth.user.email;\r\n\r\nexport default {\r\n  getIsAutentificated,\r\n  getUserMail,\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst styles = {\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    padding: 10,\r\n  },\r\n  activelink: {\r\n    color: 'white',\r\n  },\r\n};\r\n\r\nconst Navigation = ({ isAuthentificated }) => {\r\n  return (\r\n    <Nav defaultActiveKey=\"/home\" as=\"ul\">\r\n      <Nav.Item as=\"li\">\r\n        <NavLink\r\n          exact\r\n          to=\"/\"\r\n          className=\"NavLink\"\r\n          activeClassName=\"NavLink-active\"\r\n          style={styles.link}\r\n          activeStyle={styles.activelink}\r\n        >\r\n          Home\r\n        </NavLink>\r\n      </Nav.Item>\r\n      {isAuthentificated && (\r\n        <Nav.Item as=\"li\">\r\n          <NavLink\r\n            exact\r\n            to=\"/contacts\"\r\n            className=\"NavLink\"\r\n            activeClassName=\"NavLink-active\"\r\n            style={styles.link}\r\n            activeStyle={styles.activelink}\r\n          >\r\n            Контакты\r\n          </NavLink>\r\n        </Nav.Item>\r\n      )}\r\n    </Nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthentificated: authSelectors.getIsAutentificated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Nav from 'react-bootstrap/Nav';\r\n\r\nconst styles = {\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n    padding: 10,\r\n  },\r\n  activelink: {\r\n    color: 'white',\r\n  },\r\n};\r\n\r\nconst AuthNav = () => (\r\n  <Nav>\r\n    <Nav.Item>\r\n      <NavLink\r\n        exact\r\n        to=\"/register\"\r\n        className=\"NavLink\"\r\n        activeClassName=\"NavLink-active\"\r\n        style={styles.link}\r\n        activeStyle={styles.activelink}\r\n      >\r\n        Регистрация\r\n      </NavLink>\r\n    </Nav.Item>\r\n    <Nav.Item>\r\n      <NavLink\r\n        exact\r\n        to=\"/login\"\r\n        className=\"NavLink\"\r\n        activeClassName=\"NavLink-active\"\r\n        style={styles.link}\r\n        activeStyle={styles.activelink}\r\n      >\r\n        Войти\r\n      </NavLink>\r\n    </Nav.Item>\r\n  </Nav>\r\n);\r\n\r\nexport default AuthNav;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Button from 'react-bootstrap/Button';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\nimport authOperations from '../redux/auth/auth-operations';\r\n\r\nconst styles = {\r\n  span: {\r\n    padding: 10,\r\n    color: 'white',\r\n  },\r\n};\r\n\r\nconst UserMenu = ({ email, onLogout }) => (\r\n  <div>\r\n    <span style={styles.span}>{email}</span>\r\n    <Button variant=\"outline-light\" type=\"button\" size=\"sm\" onClick={onLogout}>\r\n      Выйти\r\n    </Button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  email: authSelectors.getUserMail(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport AuthNav from './Authnav';\r\nimport UserMenu from './UserMenu';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\n\r\nconst Appbar = ({ isAutentificated }) => {\r\n  return (\r\n    <header>\r\n      <Navbar bg=\"primary\" variant=\"dark\" className=\"justify-content-between\">\r\n        <Navigation />\r\n        {isAutentificated ? <UserMenu /> : <AuthNav />}\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = state => ({\r\n  isAutentificated: authSelectors.getIsAutentificated(state),\r\n});\r\n\r\nexport default connect(mapDispatchToProps)(Appbar);\r\n","import React from 'react';\r\n\r\nconst Container = ({ children }) => (\r\n  <section>\r\n    {children}\r\n    <hr />\r\n  </section>\r\n);\r\n\r\nexport default Container;\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthentificated,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthentificated ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthentificated: authSelectors.getIsAutentificated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthentificated,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthentificated && routeProps.restricted ? (\r\n        <Redirect to=\"/contacts\" />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthentificated: authSelectors.getIsAutentificated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React, { Suspense, lazy } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Appbar from './conponents/AppBar';\nimport Container from './conponents/Container/Container';\nimport authOperations from './redux/auth/auth-operations';\nimport PrivateRoute from './conponents/PrivateRoute';\nimport PublicRoute from './conponents/PublicRoute';\nimport './App.css';\n\nconst Homeview = lazy(() => import('./views/Homeview'));\nconst LoginView = lazy(() => import('./views/LoginView'));\nconst RegisterView = lazy(() => import('./views/RegisterView'));\nconst ContactsView = lazy(() => import('./views/ContactsView'));\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <Container>\n        <Appbar />\n        <Suspense fallback={<p>Загружаем...</p>}>\n          <Switch>\n            <Route exact path=\"/\" component={Homeview} />\n            <PublicRoute path=\"/login\" restricted component={LoginView} />\n            <PublicRoute path=\"/register\" restricted component={RegisterView} />\n            <PrivateRoute path=\"/contacts\" component={ContactsView} />\n          </Switch>\n        </Suspense>\n      </Container>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  fetchContactSuccess,\r\n  addContactSuccess,\r\n  delContactSuccess,\r\n  filterContact,\r\n} from './contacts-actions';\r\n\r\nconst itemsReduсer = createReducer([], {\r\n  [fetchContactSuccess]: (state, action) => action.payload,\r\n  [addContactSuccess]: (state, action) => [action.payload, ...state],\r\n  [delContactSuccess]: (state, action) =>\r\n    state.filter(item => item.id !== action.payload),\r\n});\r\n\r\nconst filterReduсer = createReducer('', {\r\n  [filterContact]: (_, action) => action.payload,\r\n});\r\n\r\nconst contactsReduсer = combineReducers({\r\n  items: itemsReduсer,\r\n  filter: filterReduсer,\r\n});\r\n\r\nexport default contactsReduсer;\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-action';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n  [authActions.logoutSuccess]: () => initialUserState,\r\n  [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.logoutSuccess]: () => null,\r\n});\r\nconst error = createReducer(null, {\r\n  [authActions.registerError]: (_, { payload }) => payload,\r\n  [authActions.loginError]: (_, { payload }) => payload,\r\n  [authActions.logoutError]: (_, { payload }) => payload,\r\n  [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAutheticated = createReducer(false, {\r\n  [authActions.registerSuccess]: () => true,\r\n  [authActions.loginSuccess]: () => true,\r\n  [authActions.getCurrentUserSuccess]: () => true,\r\n  [authActions.loginError]: () => false,\r\n  [authActions.logoutError]: () => false,\r\n  [authActions.getCurrentUserError]: () => false,\r\n  [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nconst authReduser = combineReducers({\r\n  user,\r\n  isAutheticated,\r\n  token,\r\n  error,\r\n});\r\n\r\nexport default authReduser;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsReduсer from './contacts/contacts-reducer';\r\nimport authReduсer from './auth/auth-reduser';\r\n\r\nconst myMiddlware = store => next => action => {\r\n  // console.log('dasdadads', action);\r\n  next(action);\r\n};\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  myMiddlware,\r\n];\r\n\r\nconst authPersistConfih = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfih, authReduсer),\r\n    contacts: contactsReduсer,\r\n  },\r\n  middleware,\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default { store, persistor };\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './redux/store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport './index.css';\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('APP/FETCH_CONTACT_REQUEST');\r\nexport const fetchContactSuccess = createAction('APP/FETCH_CONTACT_SUCCESS');\r\nexport const fetchContactError = createAction('APP/FETCH_CONTACT_ERROR');\r\n\r\nexport const addContactRequest = createAction('APP/ADD_CONTACT_REQUEST');\r\nexport const addContactSuccess = createAction('APP/ADD_CONTACT_SUCCESS');\r\nexport const addContactError = createAction('APP/ADD_CONTACT_ERROR');\r\n\r\nexport const delContactRequest = createAction('APP/DEL_CONTACT_REQUEST');\r\nexport const delContactSuccess = createAction('APP/DEL_CONTACT_SUCCESS');\r\nexport const delContactError = createAction('APP/DEL_CONTACT_ERROR');\r\n\r\nexport const filterContact = createAction('APP/FILTER_CONTACT');\r\n","import axios from 'axios';\r\nimport authActions from './auth-action';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credential => dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n  axios\r\n    .post('/users/signup', credential)\r\n    .then(({ data }) => {\r\n      token.set(data.token);\r\n      dispatch(authActions.registerSuccess(data));\r\n    })\r\n    .catch(error => dispatch(authActions.registerError(error.message)));\r\n};\r\n\r\nconst login = credential => dispatch => {\r\n  dispatch(authActions.loginRequest());\r\n  axios\r\n    .post('/users/login', credential)\r\n    .then(({ data }) => {\r\n      // console.log(data);\r\n      token.set(data.token);\r\n      dispatch(authActions.loginSuccess(data));\r\n    })\r\n    .catch(error => dispatch(authActions.loginError(error.message)));\r\n};\r\n\r\nconst logout = () => dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n  axios\r\n    .post('/users/logout')\r\n    .then(() => {\r\n      token.unset();\r\n      dispatch(authActions.logoutSuccess());\r\n    })\r\n    .catch(error => dispatch(authActions.logoutError(error.message)));\r\n};\r\n\r\nconst getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n  axios\r\n    .get('/users/current')\r\n    .then(({ data }) => {\r\n      dispatch(authActions.getCurrentUserSuccess(data));\r\n    })\r\n    .catch(error => dispatch(authActions.getCurrentUserError(error.message)));\r\n};\r\n\r\nexport default { register, login, logout, getCurrentUser };\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\n"],"sourceRoot":""}