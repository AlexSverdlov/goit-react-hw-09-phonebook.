(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[6],{109:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return g}));var c=n(0),r=n(14),a=n(104),u=n(110),o=n(44),i=n(103),s=n(25),b=n.n(s),j=n(28),l=n(32),f=function(t){return t.contacts.items},O=function(t){return t.contacts.filter},h={getItems:f,getFilter:O,visibleContacts:Object(l.a)([O,f],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},p=n(1);function m(){var t=Object(r.b)(),e=Object(c.useState)(""),n=Object(a.a)(e,2),s=n[0],l=n[1],f=Object(c.useState)(""),O=Object(a.a)(f,2),m=O[0],d=O[1],x=Object(r.c)(h.getItems),v=Object(c.useCallback)((function(t){l(t.currentTarget.value)}),[]),g=Object(c.useCallback)((function(t){d(t.currentTarget.value)}),[]),C=Object(c.useCallback)((function(e){e.preventDefault();var n,c={id:Object(u.a)(),name:s,number:m};x.find((function(t){return t.name.toUpperCase()===s.toUpperCase()}))?alert(s+" is already in contacts"):(t((n=c,function(t){t(j.b()),b.a.post("/contacts",n).then((function(e){var n=e.data;return t(j.c(n))})).catch((function(e){return t(j.a(e.message))}))})),l(""),d(""))}),[t,s,m,x]);return Object(p.jsxs)(i.a,{onSubmit:C,autoComplete:"off",children:[Object(p.jsxs)(i.a.Group,{children:[Object(p.jsx)(i.a.Label,{children:"\u0418\u043c\u044f"}),Object(p.jsx)(i.a.Control,{type:"text",name:"name",value:s,onChange:v})]}),Object(p.jsxs)(i.a.Group,{children:[Object(p.jsx)(i.a.Label,{children:"\u041d\u043e\u043c\u0435\u0440"}),Object(p.jsx)(i.a.Control,{type:"text",name:"number",value:m,onChange:g})]}),Object(p.jsx)(o.a,{variant:"outline-primary",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})]})}function d(){var t=Object(r.b)(),e=Object(r.c)(h.getFilter),n=Object(c.useCallback)((function(e){t(j.j(e.currentTarget.value))}),[t]);return Object(p.jsxs)(i.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(p.jsx)(i.a.Label,{children:"\u041d\u0430\u0439\u0442\u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u043f\u043e \u0438\u043c\u0435\u043d\u0438"}),Object(p.jsx)(i.a.Control,{type:"text",name:"filter",value:e,onChange:n})]})}var x=n(105);function v(){var t=Object(r.b)(),e=Object(r.c)(h.visibleContacts);return Object(p.jsx)(x.a,{children:e.map((function(e){var n=e.id,c=e.name,r=e.number;return Object(p.jsxs)(x.a.Item,{children:[c,": ",r,Object(p.jsx)(o.a,{variant:"outline-primary",type:"button",size:"sm",onClick:function(){return t(function(t){return function(e){e(j.e()),b.a.delete("/contacts/".concat(t)).then((function(){return e(j.f(t))})).catch((function(t){return e(j.d(t.message))}))}}(n))},style:{marginLeft:"20px"},children:"Delete"})]},n)}))})}function g(){var t=Object(r.b)();return Object(c.useEffect)((function(){return t((function(t){t(j.h()),b.a.get("/contacts").then((function(e){var n=e.data;return t(j.i(n))})).catch((function(e){return t(j.g(e.message))}))}))}),[t]),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"}),Object(p.jsx)(m,{}),Object(p.jsx)("hr",{}),Object(p.jsx)("h3",{style:{marginTop:"20px"},children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object(p.jsx)(d,{}),Object(p.jsx)(v,{})]})}}}]);
//# sourceMappingURL=6.33167bb5.chunk.js.map